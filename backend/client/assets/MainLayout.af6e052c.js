import{Q as j,a as B}from"./QLayout.104f90bd.js";import{E as v,d as _,c as u,w as s,a6 as E,r as S,o as i,a as t,a7 as a,a8 as b,a5 as h,a9 as g,H as r,I as x,a4 as k,x as V,aa as y,ab as P,ac as $,ad as T,T as L,F as Q,G as N,ae as z,af as F}from"./index.d78f815c.js";import{Q as O}from"./QTooltip.cf77d385.js";import{Q as f,a as q,b as p}from"./QMenu.c8dbaa4e.js";import{u as D}from"./use-quasar.6ef15f16.js";import{Q as H}from"./QList.7f34605a.js";import"./QResizeObserver.54dc93d0.js";import"./selection.faaa34c1.js";var M="/assets/tower.abad1fec.png";const W={class:"tw-flex tw-w-full tw-justify-center 2xl:tw-justify-start"},R=v({__name:"drawerLink",props:{title:null,link:{default:"#"},icon:{default:""},checkRegEx:null},setup(e){const c=D(),m=E(),n=_(()=>m.path);return(w,d)=>{const o=S("router-link");return i(),u(o,{to:e.link},{default:s(()=>[t(f,{class:k([{"tw-bg-secondary":e.checkRegEx.test(a(n)),"tw-bg-dark":!e.checkRegEx.test(a(n)),"tw-text-darkPage":e.checkRegEx.test(a(n))},"tw-px-2 2xl:tw-py-1 tw-py-0 tw-mb-1 2xl:tw-mx-2 tw-mx-3 tw-rounded 2xl:tw-min-h-[2.25rem] tw-min-h-[2rem]"]),clickable:"",tag:"div"},{default:s(()=>[a(c).screen.gt.lg?g("",!0):(i(),u(O,{key:0,anchor:"center right",self:"center left"},{default:s(()=>[b(h(e.title),1)]),_:1})),r("div",W,[e.icon?(i(),u(x,{key:0,color:e.checkRegEx.test(a(n))?"dark":void 0,name:e.icon,size:a(c).screen.gt.lg?"xs":"sm",class:"tw-self-center 2xl:tw-mr-2 tw-grow 2xl:tw-grow-0"},null,8,["color","name","size"])):g("",!0),r("div",{class:k([{"tw-text-center":!e.icon},"tw-text-xs tw-self-center tw-grow tw-justify-self-center 2xl:tw-block tw-hidden"])},h(e.title),3)])]),_:1},8,["class"])]),_:1},8,["to"])}}}),G={class:"tw-text-xs tw-ml-2 tw-basis-auto tw-grow tw-self-center 2xl:tw-block tw-hidden"},U={class:"tw-bg-darkPage tw-self-center tw-ml-1 2xl:tw-ml-0 tw-rounded-full tw-pa-1 tw-flex tw-justify-center"},J={key:0,class:"tw-ml-2 tw-mr-1"},C=v({__name:"expansionLink",props:{items:{type:Array},label:{type:String},icon:{type:String},transitionIn:{type:String,default:"slideInLeft"},transitionOut:{type:String,default:"slideOutLeft"}},setup(e){const c=e,m=E(),n=V(!1),w=_(()=>c.items?c.items.some(d=>d.link===m.path):!1);return(d,o)=>(i(),y($,null,[t(f,{class:k([{"tw-bg-secondary":a(w),"tw-text-darkPage":a(w),"tw-bg-dark":!a(w)},"tw-px-2 2xl:tw-py-1 tw-py-0 tw-mb-1 2xl:tw-mx-2 tw-mx-3 tw-rounded 2xl:tw-min-h-[2.25rem] tw-min-h-[2rem]"]),clickable:"",tag:"div"},{default:s(()=>[r("div",{class:"tw-w-full tw-flex tw-items-stretch",onClick:o[0]||(o[0]=l=>n.value=!n.value)},[t(x,{color:a(w)?"dark":void 0,name:e.icon,class:"tw-self-center",size:"xs"},null,8,["color","name"]),r("div",G,h(e.label),1),r("div",U,[t(x,{class:k([{"rotate-90":n.value},"tw-self-center tw-transition-all tw-text-secondary"]),style:P(n.value?void 0:"transform: translate(1px, 0)"),name:"sym_o_chevron_right",size:"xs"},null,8,["class","style"])])])]),_:1},8,["class"]),t(L,{"enter-active-class":`animated ${e.transitionIn}`,"leave-active-class":`animated ${e.transitionOut}`},{default:s(()=>[n.value?(i(),y("div",J,[(i(!0),y($,null,T(e.items,l=>(i(),u(R,{key:l.link,"check-reg-ex":l.checkRegEx,icon:l.icon,link:l.link,title:l.title},null,8,["check-reg-ex","icon","link","title"]))),128))])):g("",!0)]),_:1},8,["enter-active-class","leave-active-class"])],64))}}),K={class:"tw-mt-2 tw-self-center tw-font-medium tw-text-sm fullWordWrap"},X={class:"tw-flex tw-w-full tw-justify-center 2xl:tw-justify-start"},Y={class:"tw-text-xs tw-self-center tw-grow tw-justify-self-center 2xl:tw-block tw-hidden tw-truncate"},Z=v({__name:"userLink",setup(e){const c=Q(),m=N(),n=z(),w=()=>{c.logout(),n.reset(),m.push({name:"Login"})},d=()=>{m.push({name:"ChangePassword"})};return(o,l)=>(i(),u(f,{class:"tw-px-2 2xl:tw-py-1 tw-py-0 tw-mb-1 2xl:tw-mx-2 tw-mx-3 tw-rounded 2xl:tw-min-h-[2.25rem] tw-min-h-[2rem]",clickable:"",tag:"div"},{default:s(()=>[t(q,{anchor:"top right"},{default:s(()=>[t(H,null,{default:s(()=>[t(f,null,{default:s(()=>[t(p,{class:"tw-flex tw-min-w-[6rem] tw-max-w-[13rem]"},{default:s(()=>[t(x,{class:"filled tw-self-center",name:"sym_o_account_circle",size:"lg"}),r("div",K,h(a(c).name),1)]),_:1})]),_:1}),a(c).isLdapUser?g("",!0):(i(),u(f,{key:0,clickable:"",onClick:d},{default:s(()=>[t(p,null,{default:s(()=>[b("Change password")]),_:1})]),_:1})),t(f,{clickable:"",onClick:w},{default:s(()=>[t(p,null,{default:s(()=>[b("Logout")]),_:1})]),_:1})]),_:1})]),_:1}),r("div",X,[t(x,{size:o.$q.screen.gt.lg?"xs":"sm",class:"tw-self-center 2xl:tw-mr-2 tw-grow 2xl:tw-grow-0 filled",name:"sym_o_account_circle"},null,8,["size"]),r("div",Y,h(a(c).name),1),t(x,{class:"tw-self-center tw-transition-all tw-text-secondary",name:"sym_o_chevron_right",size:"xs"})])]),_:1}))}}),tt={class:"tw-w-20 2xl:tw-w-40 tw-h-screen tw-flex tw-flex-col tw-pb-2"},et=r("img",{alt:"Tower configuration server",class:"tw-w-full 2xl:tw-px-5 tw-px-3 tw-pt-5 2xl:tw-mb-9 tw-mb-5",height:"384",src:M,width:"384"},null,-1),st=r("div",{class:"tw-flex-1"},null,-1),ut=v({__name:"MainLayout",setup(e){const c=z(),m=Q(),n=[{icon:"sym_o_inventory_2",link:"/archive",title:"Archive",checkRegEx:/^\/archive/},{icon:"sym_o_history",link:"/timeArchive",title:"Time Archive",checkRegEx:/^\/timeArchive/},{icon:"sym_o_search",link:"/findVariable",title:"Find Variable",checkRegEx:/^\/findVariable/}],w=_(()=>{const o=[];return c.getBases.forEach(l=>{o[l.sequenceNumber]={icon:l.icon,link:`/bases/${l.name}`,title:l.name,checkRegEx:new RegExp(`^/bases/${l.name}`)}}),o}),d=_(()=>m.hasAdminRights);return(o,l)=>{const A=S("router-view");return i(),u(j,{class:"tw-flex tw-flex-row tw-h-full",view:"hHh lpR fFf"},{default:s(()=>[r("div",tt,[et,t(R,{"check-reg-ex":/^\/configuration(\/)*.*/,icon:"sym_o_settings",link:"/configuration",title:"Configuration"},null,8,["check-reg-ex"]),t(C,{items:n,icon:"sym_o_archive",label:"Archive"}),t(C,{items:a(w),icon:"sym_o_domain",label:"Bases"},null,8,["items"]),st,a(d)?(i(),u(R,{key:0,"check-reg-ex":/^\/settings(\/)*.*/,icon:"sym_o_tune",link:"/settings",title:"Settings"},null,8,["check-reg-ex"])):g("",!0),t(Z)]),t(B,{class:"tw-w-full tw-h-screen tw-py-4 tw-px-3 tw-flex tw-flex-col"},{default:s(()=>[t(A,null,{default:s(({Component:I})=>[t(L,{"enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut",mode:"out-in"},{default:s(()=>[(i(),u(F(I)))]),_:2},1024)]),_:1})]),_:1})]),_:1})}}});export{ut as default};
