import{Q as p,a as g,b as f}from"./QPage.23dc3a3e.js";import{Q as w}from"./QInput.72a273ff.js";import{E as y,x as r,c as _,w as l,G as v,o as P,H as i,a,Q as b,I as h,J as x}from"./index.d78f815c.js";import{u as Q}from"./use-quasar.6ef15f16.js";import"./use-key-composition.8fe7b499.js";import"./uid.42677368.js";const V={class:"tw-grid tw-grid-cols-1 tw-gap-1 tw-w-1/5 tw-justify-items-center animate__animated animate__bounce"},C=i("div",null," Change password ",-1),A=y({__name:"ChangePasswordPage",setup(B){const u=v(),n=Q(),s=r(""),o=r(""),d=r(!1),c=async()=>{(await x.post("/members/changeUserPassword",{newPassword:s.value})).status===204?(n.notify({color:"positive",position:"top",textColor:"secondary",message:"Password changed successfully"}),await u.push({name:"Login"})):n.notify({color:"negative",position:"top",textColor:"secondary",icon:"sym_o_error",message:"Error changing password"})};return(m,t)=>(P(),_(p,{class:"row items-center justify-evenly"},{default:l(()=>[i("div",V,[a(g,{alt:"Tower configuration server logo",class:"tw-h-40 tw-w-40 tw-mb-10 tw-min-w-[10rem]","spinner-color":"secondary",src:"img/tower.png"}),a(f,{autofocus:"",class:"tw-w-full tw-grid tw-grid-cols-1 tw-gap-1 tw-justify-items-center",greedy:"",onSubmit:c},{default:l(()=>[a(w,{modelValue:s.value,"onUpdate:modelValue":t[0]||(t[0]=e=>s.value=e),rules:[e=>e&&e.length>0||"Please provide your new password"],class:"tw-w-full tw-min-w-[10rem] tw-max-w-[25rem]",color:"secondary",label:"New password","lazy-rules":"",type:"password"},null,8,["modelValue","rules"]),a(w,{modelValue:o.value,"onUpdate:modelValue":t[1]||(t[1]=e=>o.value=e),debounce:300,rules:[e=>e&&e.length>0||"Please type in your new password again",e=>e===s.value||"Passwords don't match"],class:"tw-w-full tw-min-w-[10rem] tw-max-w-[25rem]",color:"secondary",label:"Confirm Password","lazy-rules":"",type:"password"},null,8,["modelValue","rules"]),a(b,{disable:!s.value||!o.value&&o.value!==s.value,loading:d.value,class:"tw-mt-5 tw-bg-secondary",flat:"","text-color":"primary",type:"submit"},{default:l(()=>[a(h,{class:"tw-mr-3",color:"dark",name:"sym_o_manage_accounts"}),C]),_:1},8,["disable","loading"])]),_:1})])]),_:1}))}});export{A as default};
