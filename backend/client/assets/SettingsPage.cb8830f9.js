import{a as c,c as A,Q as r,b as m}from"./QTabPanels.2575ee4a.js";import{E as P,a3 as U,m as h,x as F,k as T,aa as d,a as o,w as t,H as C,a6 as B,G as Q,r as $,o as u,ac as v,ad as p,T as E,c as N,af as D}from"./index.d78f815c.js";import{_ as I}from"./plugin-vue_export-helper.21dcd24c.js";import"./uid.42677368.js";import"./QResizeObserver.54dc93d0.js";import"./rtl.b51694b1.js";import"./touch.70a9dd44.js";import"./selection.faaa34c1.js";import"./use-cache.b0833c75.js";const L={class:"tw-h-full tw-flex tw-flex-col"},R={class:"tw-w-full tw-h-full tw-px-3 tw-pt-6"},j=P({__name:"SettingsPage",setup(G){const w=B(),S=Q(),x=U(),V="/settings",_=[{label:"Users",url:"users",icon:"sym_o_manage_accounts"},{label:"Groups",url:"groups",icon:"sym_o_groups"},{label:"Custom permissions",url:"permissions",icon:"sym_o_settings_account_box"}],f=[{label:"Base models",url:"models",icon:"sym_o_settings_applications"},{label:"Promotions",url:"promotions",icon:"sym_o_grade"}],b=[{label:"Hooks",url:"hooks",icon:"sym_o_webhook"},{label:"Endpoints and templates",url:"endpointsAndTemplates",icon:"sym_o_http"}],g=[{label:"Logs",url:"logs",icon:"sym_o_web_stories"}],y=[{label:"LDAP",url:"connections/ldap",icon:"sym_o_person_search"},{label:"Vault",url:"connections/vault",icon:"sym_o_sensors"},{label:"SCP",url:"connections/scp",icon:"sym_o_lan"}];h(()=>{k(w.path)});const l=F(""),i=F(""),k=s=>{const a=s.replace(new RegExp(`^${V}/`),"");let n=_.some(e=>e.url===a);if(n){l.value=a,i.value="usersAndPermissions";return}if(n=f.some(e=>e.url===a),n){l.value=a,i.value="configurationSettings";return}if(n=b.some(e=>e.url===a),n){l.value=a,i.value="api";return}if(n=g.some(e=>e.url===a),n){l.value=a,i.value="audit";return}if(n=y.some(e=>e.url===a),n){l.value=a,i.value="connections";return}};return T(()=>w.path,s=>{k(s)}),T(()=>l.value,s=>{s&&w.path!==`${V}/${s}`&&S.push(`${V}/${s}`)}),T(()=>i.value,(s,a)=>{s&&a&&s!==a&&(s==="usersAndPermissions"?_.some(n=>n.url===l.value)||(l.value=_[0].url):s==="configurationSettings"?f.some(n=>n.url===l.value)||(l.value=f[0].url):s==="api"?b.some(n=>n.url===l.value)||(l.value=b[0].url):s==="audit"?g.some(n=>n.url===l.value)||(l.value=g[0].url):s==="connections"&&(y.some(n=>n.url===l.value)||(l.value=y[0].url)))}),T(()=>x.getShowDialog,s=>{s||x.canNavigate||k(w.path)}),(s,a)=>{const n=$("router-view");return u(),d("div",L,[o(c,{modelValue:i.value,"onUpdate:modelValue":a[0]||(a[0]=e=>i.value=e),"active-class":"towerActiveFolderTab","active-color":"secondary",animated:"",class:"tw-text-gray-500 towerFolderTabs",dense:"","indicator-color":"transparent","keep-alive":"","narrow-indicator":""},{default:t(()=>[o(r,{class:"towerFolderTab",icon:"sym_o_manage_accounts",label:"Users and permissions",name:"usersAndPermissions"}),o(r,{class:"towerFolderTab",icon:"sym_o_settings",label:"Configuration settings",name:"configurationSettings"}),o(r,{class:"towerFolderTab",icon:"sym_o_api",label:"API",name:"api"}),o(r,{class:"towerFolderTab",icon:"sym_o_link",label:"Connections",name:"connections"}),o(r,{class:"towerFolderTab",icon:"sym_o_quick_reference",label:"Audit",name:"audit"})]),_:1},8,["modelValue"]),o(A,{modelValue:i.value,"onUpdate:modelValue":a[6]||(a[6]=e=>i.value=e),animated:"",class:"tw-bg-darkPage tw-text-sm tw-overflow-visible","transition-next":"jump-down","transition-prev":"jump-down"},{default:t(()=>[o(m,{class:"tw-p-0 tw-overflow-hidden",name:"usersAndPermissions"},{default:t(()=>[o(c,{modelValue:l.value,"onUpdate:modelValue":a[1]||(a[1]=e=>l.value=e),"active-class":"towerActiveFolderTab","active-color":"secondary",animated:"",class:"tw-text-gray-500",dense:"","indicator-color":"secondary","inline-label":"","keep-alive":"","narrow-indicator":""},{default:t(()=>[(u(),d(v,null,p(_,e=>o(r,{key:e.label,icon:e.icon,label:e.label,name:e.url,class:"towerSubFolderTab"},null,8,["icon","label","name"])),64))]),_:1},8,["modelValue"])]),_:1}),o(m,{class:"tw-p-0 tw-overflow-hidden",name:"configurationSettings"},{default:t(()=>[o(c,{modelValue:l.value,"onUpdate:modelValue":a[2]||(a[2]=e=>l.value=e),"active-class":"towerActiveFolderTab","active-color":"secondary",animated:"",class:"tw-text-gray-500 tw-overflow-hidden",dense:"","indicator-color":"secondary","inline-label":"","keep-alive":"","narrow-indicator":""},{default:t(()=>[(u(),d(v,null,p(f,e=>o(r,{key:e.label,icon:e.icon,label:e.label,name:e.url,class:"towerSubFolderTab"},null,8,["icon","label","name"])),64))]),_:1},8,["modelValue"])]),_:1}),o(m,{class:"tw-p-0 tw-overflow-hidden",name:"api"},{default:t(()=>[o(c,{modelValue:l.value,"onUpdate:modelValue":a[3]||(a[3]=e=>l.value=e),"active-class":"towerActiveFolderTab","active-color":"secondary",animated:"",class:"tw-text-gray-500",dense:"","indicator-color":"secondary","inline-label":"","keep-alive":"","narrow-indicator":""},{default:t(()=>[(u(),d(v,null,p(b,e=>o(r,{key:e.label,icon:e.icon,label:e.label,name:e.url,class:"towerSubFolderTab"},null,8,["icon","label","name"])),64))]),_:1},8,["modelValue"])]),_:1}),o(m,{class:"tw-p-0 tw-overflow-hidden",name:"audit"},{default:t(()=>[o(c,{modelValue:l.value,"onUpdate:modelValue":a[4]||(a[4]=e=>l.value=e),"active-class":"towerActiveFolderTab","active-color":"secondary",animated:"",class:"tw-text-gray-500",dense:"","indicator-color":"secondary","inline-label":"","keep-alive":"","narrow-indicator":""},{default:t(()=>[(u(),d(v,null,p(g,e=>o(r,{key:e.label,icon:e.icon,label:e.label,name:e.url,class:"towerSubFolderTab"},null,8,["icon","label","name"])),64))]),_:1},8,["modelValue"])]),_:1}),o(m,{class:"tw-p-0 tw-overflow-hidden",name:"connections"},{default:t(()=>[o(c,{modelValue:l.value,"onUpdate:modelValue":a[5]||(a[5]=e=>l.value=e),"active-class":"towerActiveFolderTab","active-color":"secondary",animated:"",class:"tw-text-gray-500",dense:"","indicator-color":"secondary","inline-label":"","keep-alive":"","narrow-indicator":""},{default:t(()=>[(u(),d(v,null,p(y,e=>o(r,{key:e.label,icon:e.icon,label:e.label,name:e.url,class:"towerSubFolderTab"},null,8,["icon","label","name"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["modelValue"]),C("div",R,[o(n,null,{default:t(({Component:e})=>[o(E,{"enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut",mode:"out-in"},{default:t(()=>[(u(),N(D(e)))]),_:2},1024)]),_:1})])])}}});var Y=I(j,[["__scopeId","data-v-60e0e356"]]);export{Y as default};
